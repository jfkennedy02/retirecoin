<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RetireCoin üöÄ Meme Token</title>
<!-- Google Fonts -->
<link
  href="https://fonts.googleapis.com/css2?family=Orbitron&family=Comic+Neue:wght@700&display=swap"
  rel="stylesheet"
/>
<style>
  /* Reset and basics */
  * {
    box-sizing: border-box;
  }
  body, html {
    margin: 0; padding: 0; height: 100%;
    background: radial-gradient(ellipse at center, #0b0c20 0%, #000000 100%);
    overflow-x: hidden;
    font-family: 'Comic Neue', cursive, Arial, sans-serif;
    color: white;
  }

  /* Stars background */
  #space-background {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1;
    overflow: hidden;
  }
  .star {
    position: absolute;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation-name: twinkle;
    animation-iteration-count: infinite;
    animation-direction: alternate;
  }
  @keyframes twinkle {
    from {opacity: 0.2;}
    to {opacity: 1;}
  }

  header {
    font-family: 'Orbitron', sans-serif;
    font-weight: 900;
    font-size: 3rem;
    color: #00ffc8;
    text-align: center;
    padding: 2rem 1rem 1rem;
    text-shadow: 0 0 10px #00ffc8;
  }

  section {
    max-width: 900px;
    margin: 3rem auto;
    padding: 1rem 2rem;
    background: rgba(255,255,255,0.05);
    border-radius: 12px;
    box-shadow: 0 0 15px #00ffc8aa;
  }

  h2 {
    font-family: 'Orbitron', sans-serif;
    color: #00ffc8;
    text-align: center;
    margin-bottom: 1rem;
  }

  .hero {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }
  .mascot {
    font-size: 120px;
    user-select: none;
  }

  button.wallet-btn {
    background: #00ffc8;
    color: black;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 25px;
    font-weight: bold;
    cursor: pointer;
    font-family: 'Comic Neue', cursive;
    box-shadow: 0 0 10px #00ffc8;
    transition: 0.3s;
  }
  button.wallet-btn:hover {
    background: #00ddaa;
  }

  .tokenomics-list {
    display: flex;
    justify-content: space-around;
    font-size: 1.1rem;
  }

  .roadmap-step {
    background: #001822;
    margin: 0.5rem 0;
    padding: 0.8rem 1rem;
    border-radius: 8px;
    border-left: 4px solid #00ffc8;
  }

  /* Game Styles */
  .game-container {
    margin-top: 2rem;
    text-align: center;
  }

  #game-area {
    position: relative;
    margin: 1rem auto;
    width: 400px;
    height: 400px;
    border: 3px solid #00ffc8;
    border-radius: 15px;
    background: radial-gradient(circle at center, #001822, #000000);
    overflow: hidden;
    user-select: none;
  }

  #player {
    position: absolute;
    bottom: 10px;
    left: 45%;
    width: 40px;
    height: 40px;
    background: #00ffc8;
    border-radius: 50%;
    transform: translateX(-50%);
    box-shadow: 0 0 15px #00ffc8;
    transition: left 0.1s linear;
  }

  .asteroid {
    position: absolute;
    width: 30px;
    height: 30px;
    background: #ff0033;
    border-radius: 50%;
    box-shadow: 0 0 10px #ff0033;
    transform: translateX(-50%);
  }

  .scoreboard {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    color: #00ffc8;
    margin-top: 0.5rem;
  }

  .leaderboard {
    max-width: 400px;
    margin: 2rem auto;
    text-align: left;
    color: #00ffc8;
    font-family: 'Orbitron', sans-serif;
  }
  .leaderboard h3 {
    text-align: center;
  }
  .leaderboard ul {
    list-style: none;
    padding: 0;
  }
  .leaderboard li {
    background: #001822;
    margin: 0.3rem 0;
    padding: 0.6rem 1rem;
    border-radius: 6px;
    border-left: 4px solid #ff00aa;
  }

  /* On-screen controls for mobile/tablet */
  .controls {
    display: none;
    margin-top: 10px;
    justify-content: center;
    gap: 40px;
  }
  .controls button {
    background: #00ffc8;
    border: none;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    font-size: 1.8rem;
    color: black;
    font-weight: bold;
    box-shadow: 0 0 10px #00ffc8;
    user-select: none;
    cursor: pointer;
    transition: background 0.3s;
  }
  .controls button:active {
    background: #00ddaa;
  }

  /* Show controls on small screens */
  @media (max-width: 768px) {
    .controls {
      display: flex;
    }
    #game-area {
      width: 320px;
      height: 320px;
    }
  }
</style>
</head>
<body>

<div id="space-background"></div>

<header>üöÄ RetireCoin üöÄ</header>

<section class="hero">
  <div class="mascot" role="img" aria-label="Astronaut">üë®‚ÄçüöÄ</div>
  <h1>Retire Young, Retire Rich!</h1>
  <p>Join the most fun meme coin in the galaxy and shoot your way to early retirement! üååüí∞</p>
  <button id="connectWalletBtn" class="wallet-btn">Connect Wallet</button>
  <p id="walletAddressDisplay" style="margin-top:1rem;"></p>
</section>

<section id="about">
  <h2>About RetireCoin</h2>
  <p>RetireCoin is a meme token designed to reward holders with huge gains while having fun. Our mascot, the fearless astronaut, guides you through the crypto space to financial freedom.</p>
</section>

<section id="tokenomics">
  <h2>Tokenomics</h2>
  <div class="tokenomics-list">
    <div><strong>100 Billion</strong> Total Supply</div>
    <div><strong>5%</strong> Reflection Rewards</div>
    <div><strong>3%</strong> Liquidity Pool</div>
    <div><strong>2%</strong> Development Fund</div>
  </div>
</section>

<section id="roadmap">
  <h2>Roadmap</h2>
  <div class="roadmap-step"><strong>Q2 2025:</strong> Token launch &amp; website release</div>
  <div class="roadmap-step"><strong>Q3 2025:</strong> Community building &amp; listing on exchanges</div>
  <div class="roadmap-step"><strong>Q4 2025:</strong> Mobile game launch &amp; NFT drops</div>
  <div class="roadmap-step"><strong>2026:</strong> Full ecosystem with staking &amp; governance</div>
</section>

<section id="game" class="game-container">
  <h2>üöÄ RetireCoin Game üöÄ</h2>
  <button id="startGameBtn" class="wallet-btn">Start Game (Use Arrow Keys!)</button>
  <div id="game-area" style="display:none;">
    <div id="player"></div>
  </div>
  <div class="controls">
    <button id="leftBtn" aria-label="Move Left">‚¨Ö</button>
    <button id="rightBtn" aria-label="Move Right">‚û°</button>
  </div>
  <div class="scoreboard" id="scoreDisplay"></div>

  <div class="leaderboard">
    <h3>Leaderboard</h3>
    <ul id="leaderboardList">
      <li>No scores yet. Be the first!</li>
    </ul>
  </div>
</section>

<script>
  // ========== Floating Stars Background ==========
  const spaceBg = document.getElementById('space-background');
  const STAR_COUNT = 100;
  for (let i = 0; i < STAR_COUNT; i++) {
    const star = document.createElement('div');
    star.classList.add('star');
    const size = Math.random() * 2 + 0.5;
    star.style.width = size + 'px';
    star.style.height = size + 'px';
    star.style.top = (Math.random() * 100) + '%';
    star.style.left = (Math.random() * 100) + '%';
    star.style.animationDuration = (Math.random() * 5 + 2) + 's';
    star.style.animationDelay = (Math.random() * 5) + 's';
    spaceBg.appendChild(star);
  }

  // ========== Wallet Connect ==========
  const connectWalletBtn = document.getElementById('connectWalletBtn');
  const walletAddressDisplay = document.getElementById('walletAddressDisplay');

  async function connectWallet() {
    if (typeof window.ethereum === 'undefined') {
      alert('MetaMask is not installed! Please install it to connect your wallet.');
      return;
    }
    try {
      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
      walletAddressDisplay.textContent = `Connected: ${accounts[0].slice(0,6)}...${accounts[0].slice(-4)}`;
      connectWalletBtn.style.display = 'none';
    } catch (err) {
      console.error(err);
      alert('Failed to connect wallet.');
    }
  }
  connectWalletBtn.addEventListener('click', connectWallet);

  // ========== Game Variables ==========
  const startGameBtn = document.getElementById('startGameBtn');
  const gameArea = document.getElementById('game-area');
  const player = document.getElementById('player');
  const scoreDisplay = document.getElementById('scoreDisplay');
  const leaderboardList = document.getElementById('leaderboardList');
  const leftBtn = document.getElementById('leftBtn');
  const rightBtn = document.getElementById('rightBtn');

  let gameStarted = false;
  let playerPos = 45; // percentage
  let asteroids = [];
  let gameLoopInterval;
  let asteroidAddInterval;
  let speedIncreaseInterval; // interval for speed increase
  let score = 0;
  let speed = 2; // initial speed of falling asteroids

  // For continuous movement on button hold
  let leftPressed = false;
  let rightPressed = false;
  let moveInterval;

  // Load leaderboard from localStorage
  function loadLeaderboard() {
    let data = localStorage.getItem('retirecoin_leaderboard');
    if (!data) return [];
    try {
      return JSON.parse(data);
    } catch {
      return [];
    }
  }

  // Save leaderboard to localStorage
  function saveLeaderboard(lb) {
    localStorage.setItem('retirecoin_leaderboard', JSON.stringify(lb));
  }

  // Display leaderboard
  function updateLeaderboardDisplay() {
    const lb = loadLeaderboard();
    leaderboardList.innerHTML = '';
    if (lb.length === 0) {
      leaderboardList.innerHTML = '<li>No scores yet. Be the first!</li>';
      return;
    }
    lb.forEach((entry, i) => {
      leaderboardList.innerHTML += `<li>#${i+1} - Score: ${entry.score} (${entry.date})</li>`;
    });
  }

  // Create asteroid DOM element
  function createAsteroid(id, x, y) {
    const el = document.createElement('div');
    el.classList.add('asteroid');
    el.style.left = x + '%';
    el.style.top = y + '%';
    el.setAttribute('data-id', id);
    gameArea.appendChild(el);
    return el;
  }

  // Start the game
  function startGame() {
    if (gameStarted) return;
    gameStarted = true;
    score = 0;
    speed = 2;
    playerPos = 45;
    player.style.left = playerPos + '%';
    asteroids.forEach(ast => gameArea.removeChild(ast.element));
    asteroids = [];
    scoreDisplay.textContent = 'Score: 0';
    gameArea.style.display = 'block';
    startGameBtn.style.display = 'none';
    updateLeaderboardDisplay();

    gameLoopInterval = setInterval(gameLoop, 100);
    asteroidAddInterval = setInterval(addAsteroid, 1500);

    // Increase speed every 10 seconds
    speedIncreaseInterval = setInterval(() => {
      speed += 0.5;
    }, 10000);

    // Start move interval for continuous movement from buttons
    moveInterval = setInterval(() => {
      if (!gameStarted) return;
      if (leftPressed) {
        playerPos -= 3;
        if (playerPos < 0) playerPos = 0;
      }
      if (rightPressed) {
        playerPos += 3;
        if (playerPos > 90) playerPos = 90;
      }
      player.style.left = playerPos + '%';
    }, 50);
  }

  // End the game
  function endGame() {
    gameStarted = false;
    clearInterval(gameLoopInterval);
    clearInterval(asteroidAddInterval);
    clearInterval(speedIncreaseInterval);
    clearInterval(moveInterval);
    alert('Game Over! Your score: ' + score);

    // Update leaderboard
    let lb = loadLeaderboard();
    lb.push({score, date: new Date().toLocaleString()});
    lb.sort((a,b) => b.score - a.score);
    if (lb.length > 5) lb = lb.slice(0,5);
    saveLeaderboard(lb);
    updateLeaderboardDisplay();

    // Reset UI
    gameArea.style.display = 'none';
    startGameBtn.style.display = 'inline-block';
  }

  // Add a new asteroid at random horizontal position
  function addAsteroid() {
    if (!gameStarted) return;
    const id = Date.now() + Math.random();
    const x = Math.random() * 90 + 5; // Avoid edges (5% to 95%)
    const y = -5; // start above the visible area
    const element = createAsteroid(id, x, y);
    asteroids.push({id, x, y, element});
  }

  // Game loop - move asteroids, detect collisions
  function gameLoop() {
    asteroids.forEach(ast => {
      ast.y += speed; // speed dynamic
      if (ast.y > 100) {
        gameArea.removeChild(ast.element);
      } else {
        ast.element.style.top = ast.y + '%';
      }
    });
    asteroids = asteroids.filter(ast => ast.y <= 100);

    // Collision detection with player
    for (let ast of asteroids) {
      if (ast.y > 80) { // close to player vertical level
        if (Math.abs(ast.x - playerPos) < 8) {
          endGame();
          return;
        }
      }
    }

    // Increase score
    score++;
    scoreDisplay.textContent = 'Score: ' + score;
  }

  // Control player movement using arrow keys, only when game started
  window.addEventListener('keydown', e => {
    if (!gameStarted) return;
    if (['ArrowLeft','ArrowRight'].includes(e.key)) {
      e.preventDefault(); // Prevent arrow keys from scrolling page when game playing
      if (e.key === 'ArrowLeft') {
        playerPos -= 5;
        if (playerPos < 0) playerPos = 0;
      }
      if (e.key === 'ArrowRight') {
        playerPos += 5;
        if (playerPos > 90) playerPos = 90;
      }
      player.style.left = playerPos + '%';
    }
  });

  // Touch screen buttons handlers
  leftBtn.addEventListener('touchstart', e => {
    e.preventDefault();
    leftPressed = true;
  });
  leftBtn.addEventListener('touchend', e => {
    e.preventDefault();
    leftPressed = false;
  });
  rightBtn.addEventListener('touchstart', e => {
    e.preventDefault();
    rightPressed = true;
  });
  rightBtn.addEventListener('touchend', e => {
    e.preventDefault();
    rightPressed = false;
  });

  // Also mouse support for desktop clicks on buttons
  leftBtn.addEventListener('mousedown', e => {
    e.preventDefault();
    leftPressed = true;
  });
  leftBtn.addEventListener('mouseup', e => {
    e.preventDefault();
    leftPressed = false;
  });
  leftBtn.addEventListener('mouseleave', e => {
    leftPressed = false;
  });
  rightBtn.addEventListener('mousedown', e => {
    e.preventDefault();
    rightPressed = true;
  });
  rightBtn.addEventListener('mouseup', e => {
    e.preventDefault();
    rightPressed = false;
  });
  rightBtn.addEventListener('mouseleave', e => {
    rightPressed = false;
  });

  startGameBtn.addEventListener('click', startGame);

  // Initialize leaderboard on load
  updateLeaderboardDisplay();
</script>

</body>
</html>
